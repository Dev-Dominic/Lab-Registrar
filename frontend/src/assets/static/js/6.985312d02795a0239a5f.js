webpackJsonp([6],{"1m6w":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("L/6s"),a=s("ytdl"),n=s.n(a),r=s("mtWM"),l=s.n(r),o={components:{Nav_bar:i.default},data:function(){var t=localStorage.usertoken,e=n()(t);return{paginatedItems_friends:[],friends:[],friend_request:[],profile_pic:e.identity.profile_pic,first_name:e.identity.first_name,last_name:e.identity.last_name,id:e.identity.id,posts:[],post_msg:this.posting_msg,image:"",selected_file:null,paginatedItems:[],currentPage:1,perPage:5,totalRows:null,currentPage_friends:1,perPage_friend:3,totalRows_friends:null}},mounted:function(){var t=this;l.a.get("http://localhost:5000/user/posts/"+this.id.toString()).then(function(e){t.posts=e.data.posts}),l.a.get("http://localhost:5000/users/friends/"+this.id.toString()).then(function(e){t.friends=e.data.friends,t.paginatedItems_friends=t.friends,t.totalRows_friends=t.friends.length,t.paginate_friends(t.perPage_friend,0)}),l.a.get("http://localhost:5000/users/request/"+this.id.toString()).then(function(e){t.friend_request=e.data.requests,t.paginatedItems=t.friend_request,t.totalRows=t.friend_request.length,t.paginate(t.perPage,0)})},watch:{posts:function(t,e){this.getPosts()},friends:function(t,e){this.getFriends()},friend_request:function(t,e){this.getFriendRequest()}},methods:{getFriends:function(){var t=this;l.a.get("http://localhost:5000/users/friends/"+this.id.toString()).then(function(e){t.friends=e.data.friends,t.paginatedItems_friends=t.friends,t.totalRows_friends=t.friends.length})},getFriendRequest:function(){var t=this;l.a.get("http://localhost:5000/users/request/"+this.id.toString()).then(function(e){t.friend_request=e.data.requests,t.paginatedItems=t.friend_request,t.totalRows=t.friend_request.length})},paginate:function(t,e){var s=this.friend_request;this.paginatedItems=s.slice(e*t,(e+1)*t)},getPosts:function(){var t=this;l.a.get("http://localhost:5000/user/posts/"+this.id.toString()).then(function(e){t.posts=e.data.posts})},paginate_friends:function(t,e){var s=this.friends;this.paginatedItems_friends=s.slice(e*t,(e+1)*t)},onPageChanged:function(t){this.paginate(this.perPage,t-1)},onPageChanged_friends:function(t){this.paginate_friends(this.perPage_friend,t-1)},onFileChange:function(t){var e=t.target.files||t.dataTransfer.files;this.selected_file=e[0],e.length&&this.createImage(e[0])},createImage:function(t){new Image;var e=new FileReader,s=this;e.onload=function(t){s.image=t.target.result},e.readAsDataURL(t)},toProfile:function(t){this.$router.push({name:"Profile",params:{user_id:t}})},postSubmit:function(){var t=this,e=new FormData;e.append("user",this.id),e.append("msg",this.posting_msg),e.append("file",document.getElementById("file-input").files[0]),l.a.post("http://localhost:5000/user/post",e).then(function(e){t.posting_msg="",t.image="",console.log(e),t.$forceUpdate()})},commentSubmit:function(t){var e=this,s=new FormData,i=document.getElementById(t).value;s.append("user",this.id),s.append("posted_to",t),s.append("comment_txt",i),l.a.post("http://localhost:5000/user/comment",s).then(function(s){document.getElementById(t).value="",e.$forceUpdate()})},acceptFriend:function(t){var e=new FormData;e.append("user1_id",t),e.append("user2_id",this.id),l.a.post("http://localhost:5000/users/accept",e).then(function(t){console.log(t)})},dateToTime:function(t){var e=new Date(t),s=e.getMinutes();return parseInt(e.getMinutes())<10&&(s="0".concat(e.getMinutes())),[e.getHours(),s].join(":")}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("Nav_bar",{attrs:{id:"navbar"}}),t._v(" "),s("section",[s("div",{staticClass:"container"},[s("div",{staticClass:"row py-1"},[s("div",{staticClass:"w-80 py-3"},[s("h3",{staticClass:"card-title mt-5",staticStyle:{"text-align":"left"}},[t._v("What's on your mind?")]),t._v(" "),s("div",{staticClass:"card mt-4 ",staticStyle:{width:"70%"}},[s("div",{staticClass:"card-body"},[s("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.postSubmit(e)}}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.posting_msg,expression:"posting_msg"}],staticClass:"form-control form-control-lg",attrs:{name:"posting_msg",placeholder:"Start a post...",rows:"3"},domProps:{value:t.posting_msg},on:{input:function(e){e.target.composing||(t.posting_msg=e.target.value)}}}),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col d-flex d-flex-row-reverse ",staticStyle:{"vertical-align":"center"}},[t._m(0),t._v(" "),s("div",{staticClass:"file-input mt-3"},[s("label",{attrs:{for:"file-input"}},[s("svg",{staticClass:"bi bi-image mt-3",attrs:{width:"2em",height:"2em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M14.002 2h-12a1 1 0 00-1 1v10a1 1 0 001 1h12a1 1 0 001-1V3a1 1 0 00-1-1zm-12-1a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V3a2 2 0 00-2-2h-12z","clip-rule":"evenodd"}}),t._v(" "),s("path",{attrs:{d:"M10.648 7.646a.5.5 0 01.577-.093L15.002 9.5V14h-14v-2l2.646-2.354a.5.5 0 01.63-.062l2.66 1.773 3.71-3.71z"}}),t._v(" "),s("path",{attrs:{"fill-rule":"evenodd",d:"M4.502 7a1.5 1.5 0 100-3 1.5 1.5 0 000 3z","clip-rule":"evenodd"}})])]),t._v(" "),s("input",{staticStyle:{display:"none",width:"0",height:"0"},attrs:{id:"file-input",type:"file"},on:{change:t.onFileChange}})]),t._v(" "),t.image?s("div",[s("img",{staticClass:"ml-3 mt-2 img-fluid",staticStyle:{height:"80px",width:"90px",border:"1px solid none","border-radius":"5px"},attrs:{src:t.image}})]):s("div",{staticClass:"img-fluid"})])])])])]),t._v(" "),t._l(t.posts,function(e){return s("div",{key:e.id,staticClass:"card mt-4",staticStyle:{width:"600px"}},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col",staticStyle:{width:"20%"}},[s("img",{staticClass:"img-fluid",staticStyle:{height:"50px",width:"50px",border:"1px solid none","border-radius":"50%"},attrs:{src:e.prof_pic}})]),t._v(" "),s("div",{staticClass:"d-flex flex-column",staticStyle:{width:"86%"}},[s("h4",{staticClass:"Card Title",staticStyle:{"font-size":"16","font-weight":"bold","text-align":"left"}},[t._v(t._s(e.first_name)+" "+t._s(e.last_name))]),t._v(" "),s("p",{staticStyle:{"margin-left":"5px","font-size":"12px",color:"gray","text-align":"left"}},[t._v(t._s(e.date_posted))])])]),t._v(" "),s("div",{staticClass:"row ml-2"},[s("p",{staticClass:"mr-2 mt-3",staticStyle:{"text-align":"left"}},[t._v(t._s(e.msg))]),t._v(" "),"/static/uploads/"!==e.img_url?s("img",{staticClass:"img-fluid",attrs:{src:e.img_url}}):t._e()]),t._v(" "),s("hr"),t._v(" "),t._l(e.Comments,function(e){return s("div",{key:e.id,staticClass:"row mr-2"},[s("div",{staticClass:"col",staticStyle:{width:"20%"}},[s("img",{staticClass:"img-fluid",staticStyle:{height:"40px",width:"40px",border:"1px solid none","border-radius":"50%"},attrs:{src:e.prof_pic}})]),t._v(" "),s("div",{staticClass:"d-flex flex-column",staticStyle:{width:"86%"}},[s("div",{staticClass:"d-flex flex-row justify-content-between"},[s("h4",{staticClass:"Card Title",staticStyle:{"font-size":"18px","font-weight":"bold","text-align":"left"}},[t._v(t._s(e.first_name)+" "+t._s(e.last_name))]),t._v(" "),s("p",{staticStyle:{"margin-left":"5px","font-size":"15px",color:"gray","margin-right":"25px"}},[t._v(t._s(t.dateToTime(e.date_commented)))])]),t._v(" "),s("p",{staticStyle:{"margin-left":"5px","font-size":"16px","text-align":"left"}},[t._v(t._s(e.comment_text))])])])}),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"row mr-2"},[t._m(1,!0),t._v(" "),s("div",{staticClass:"d-flex flex-column",staticStyle:{width:"86%"}},[s("form",{on:{submit:function(s){return s.preventDefault(),t.commentSubmit(e.id)}}},[s("div",{staticClass:"d-flex flex-row"},[s("textarea",{staticClass:"form-control mt-3",staticStyle:{width:"370px"},attrs:{id:e.id,placeholder:"Leave a comment",rows:"1"}}),t._v(" "),t._m(2,!0)])])])])],2)])})],2),t._v(" "),s("div",{staticClass:"col"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("b-container",{staticClass:"mt-5"},[s("h3",[t._v("Friend Request")]),t._v(" "),s("b-row",t._l(t.paginatedItems,function(e){return s("b-col",{directives:[{name:"show",rawName:"v-show",value:0!==t.friend_request.length,expression:"friend_request.length !== 0"}],key:e.id,staticClass:"mb-4 absolutemy-1",staticStyle:{"margin-left":"150px"},attrs:{cols:"12",sm:"4"}},[s("div",{staticClass:" card-body  d-flex flex-row justify-content-center align-items-center "},[s("img",{staticStyle:{border:"1px solid none","border-radius":"50%",width:"auto",height:"70px"},attrs:{src:e.profile_pic},on:{click:function(s){return t.toProfile(e.user_id)}}}),t._v(" "),s("p",{staticClass:"ml-4 card-text"},[t._v(t._s(e.first_name)+"  "+t._s(e.last_name))]),t._v(" "),s("div",{staticClass:"ml-4",staticStyle:{height:"70%",width:"auto"}},[s("b-button",{attrs:{variant:"outline-success"},on:{click:function(s){return t.acceptFriend(e.user_id)}}},[t._v("Accept")])],1)])])}),1),t._v(" "),s("b-row",[s("b-col",{staticClass:" my-1",staticStyle:{"margin-left":"150px"},attrs:{md:"6"}},[s("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage},on:{change:t.onPageChanged},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)],1)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("b-container",{staticClass:"mt-5"},[s("h3",[t._v("Friends")]),t._v(" "),s("b-row",t._l(t.paginatedItems_friends,function(e){return s("b-col",{directives:[{name:"show",rawName:"v-show",value:0!==t.friend_request.length,expression:"friend_request.length !== 0"}],key:e.id,staticClass:"mb-4 absolutemy-1",staticStyle:{"margin-left":"150px"},attrs:{cols:"12",sm:"4"}},[s("div",{staticClass:" card-body  d-flex flex-row justify-content-center align-items-center "},[s("img",{staticStyle:{border:"1px solid none","border-radius":"50%",width:"auto",height:"70px"},attrs:{src:e.profile_pic},on:{click:function(s){return t.toProfile(e.user_id)}}}),t._v(" "),s("p",{staticClass:"ml-4 card-text"},[t._v(t._s(e.first_name)+"  "+t._s(e.last_name))]),t._v(" "),s("div",{staticClass:"ml-4",staticStyle:{height:"70%",width:"auto"}})])])}),1),t._v(" "),s("b-row",[s("b-col",{staticClass:" my-1",staticStyle:{"margin-left":"150px"},attrs:{md:"6"}},[s("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows_friends,"per-page":t.perPage_friend},on:{change:t.onPageChanged_friends},model:{value:t.currentPage_friends,callback:function(e){t.currentPage_friends=e},expression:"currentPage_friends"}})],1)],1)],1)],1)])])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mt-3 mr-3",staticStyle:{width:"58.02px",height:"56px"}},[e("button",{staticClass:"btn btn-outline-success btn-block",staticStyle:{"margin-top":"12px"},attrs:{type:"submit"}},[this._v("Post")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col",staticStyle:{width:"20%"}},[e("img",{staticClass:"img-fluid",staticStyle:{border:"1px solid none",height:"70px","70px":"auto","border-radius":"50%"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ml-3 mt-3",staticStyle:{height:"38px",width:"70px"}},[e("button",{staticClass:"btn btn-outline-success btn-block",attrs:{type:"submit"}},[this._v("Send")])])}]},d=s("VU/8")(o,c,!1,null,null,null);e.default=d.exports}});
//# sourceMappingURL=6.985312d02795a0239a5f.js.map